<<<<<<< SEARCH
  program.command('onboard')
    .description('Run the onboarding wizard to configure everything')
    .action(async () => {
      await monster.init();
      await runOnboardingWizard(monster);
  program.command("plugin-install")
    .description("Install Auth Monster as an OpenCode plugin")
    .action(async () => {
      const configDir = path.join(process.env.HOME || "", ".config", "opencode");
      const configFile = path.join(configDir, "opencode.json");

      if (!fs.existsSync(configDir)) {
        fs.mkdirSync(configDir, { recursive: true });
      }

      let config: any = {};
      if (fs.existsSync(configFile)) {
        try {
          config = JSON.parse(fs.readFileSync(configFile, "utf-8"));
        } catch (e) {
          console.error("Error reading opencode.json, creating new one.");
        }
      }

      if (!config.plugin) config.plugin = [];
      if (!config.plugin.includes("opencode-auth-monster")) {
        config.plugin.push("opencode-auth-monster");
        console.log("Added opencode-auth-monster to opencode.json plugins.");
      } else {
        console.log("opencode-auth-monster already in opencode.json plugins.");
      }

      fs.writeFileSync(configFile, JSON.stringify(config, null, 2));
      console.log(`OpenCode configuration updated at ${configFile}`);
    });
    });
=======
  program.command('onboard')
    .description('Run the onboarding wizard to configure everything')
    .action(async () => {
      await monster.init();
      await runOnboardingWizard(monster);
    });

  program.command("plugin-install")
    .description("Install Auth Monster as an OpenCode plugin")
    .action(async () => {
      const configDir = path.join(process.env.HOME || "", ".config", "opencode");
      const configFile = path.join(configDir, "opencode.json");

      if (!fs.existsSync(configDir)) {
        fs.mkdirSync(configDir, { recursive: true });
      }

      let config: any = {};
      if (fs.existsSync(configFile)) {
        try {
          config = JSON.parse(fs.readFileSync(configFile, "utf-8"));
        } catch (e) {
          console.error("Error reading opencode.json, creating new one.");
        }
      }

      if (!config.plugin) config.plugin = [];
      if (!config.plugin.includes("opencode-auth-monster")) {
        config.plugin.push("opencode-auth-monster");
        console.log("Added opencode-auth-monster to opencode.json plugins.");
      } else {
        console.log("opencode-auth-monster already in opencode.json plugins.");
      }

      fs.writeFileSync(configFile, JSON.stringify(config, null, 2));
      console.log(`OpenCode configuration updated at ${configFile}`);
    });
>>>>>>> REPLACE
